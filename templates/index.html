<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<title>TimmyTime Bubbles Rebooted</title>
<style>
    * {
        box-sizing: border-box;
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        margin: 0;
        padding: 0;
    }
    html, body {
        width: 100%;
        height: 100%;
        overflow: hidden;
        font-family: "Courier New", monospace;
        background-color: #000;
        color: #fff;
    }

    body {
        background:
            radial-gradient(circle at 20% 30%, rgba(80,0,120,0.6) 0%, rgba(0,0,0,0) 70%),
            radial-gradient(circle at 50% 50%, rgba(40,0,60,0.8) 0%, rgba(0,0,0,0.2) 60%),
            linear-gradient(to bottom,
                rgba(10,0,20,0.7) 0%,
                rgba(10,0,20,0.5) 20%,
                rgba(0,0,0,0.8) 40%,
                rgba(10,0,20,0.6) 60%,
                rgba(0,0,0,0.9) 80%,
                #000 100%),
            radial-gradient(circle at 80% 40%, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 60%);
        background-color: #000;
        background-blend-mode: screen, screen, normal, normal;
        position: relative;
    }

    .edgeFade {
        position: absolute;
        right: 0;
        top: 0;
        width: 40%;
        height: 100%;
        background: radial-gradient(circle at 100% 50%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.6) 40%, rgba(0,0,0,1) 70%);
        pointer-events: none;
        mix-blend-mode: normal;
        z-index: 3;
    }

    .titleWrap {
        position: absolute;
        top: 60px;
        left: 20px;
        z-index: 50;
        font-size: clamp(20px, 4vw, 32px);
        font-weight: 700;
        line-height: 1.3;
        color: #ff00ff;
        white-space: nowrap;
        text-shadow:
            0 0 6px rgba(255,0,255,0.7),
            0 0 14px rgba(255,0,255,0.5),
            0 0 30px rgba(255,0,255,0.3),
            0 0 60px rgba(255,0,255,0.15);
        animation: titlePulse 4s infinite;
    }

    @keyframes titlePulse {
        0%,100% {
            text-shadow:
                0 0 4px rgba(255,0,255,0.8),
                0 0 12px rgba(255,0,255,0.6),
                0 0 28px rgba(255,0,255,0.4),
                0 0 60px rgba(255,0,255,0.2);
            filter: brightness(1);
        }
        50% {
            text-shadow:
                0 0 6px rgba(255,0,255,1),
                0 0 16px rgba(255,0,255,0.9),
                0 0 36px rgba(255,0,255,0.6),
                0 0 80px rgba(255,0,255,0.4);
            filter: brightness(1.3);
        }
    }

    #bubbleLayer {
        position: absolute;
        inset: 0;
        overflow: hidden;
        z-index: 1;
    }

    .bubble {
        position: absolute;
        border-radius: 50%;
        pointer-events: auto;
        transform-origin: center;
    }

    .bubble::after {
        content: "";
        position: absolute;
        left: 0; top: 0;
        width: 100%; height: 100%;
        border-radius: 50%;
        filter: blur(18px);
        opacity: 0.55;
        z-index: -1;
    }

    .bubble.blue {
        background: radial-gradient(circle at 30% 30%, rgba(160,200,255,0.9) 0%, rgba(0,60,255,0.5) 40%, rgba(0,0,60,0.8) 70%, rgba(0,0,0,0.9) 100%);
        box-shadow:
            0 4px 10px rgba(0,140,255,0.4),
            0 0 30px rgba(0,120,255,0.4),
            0 0 60px rgba(0,120,255,0.2);
    }
    .bubble.blue::after {
        background: radial-gradient(circle at 50% 50%, rgba(0,140,255,0.8) 0%, rgba(0,0,40,0) 70%);
    }

    .bubble.orange {
        background: radial-gradient(circle at 30% 30%, rgba(255,230,150,0.9) 0%, rgba(255,140,0,0.7) 40%, rgba(80,20,0,0.8) 70%, rgba(0,0,0,0.9) 100%);
        box-shadow:
            0 4px 10px rgba(255,120,0,0.4),
            0 0 30px rgba(255,80,0,0.35),
            0 0 60px rgba(255,60,0,0.25);
    }
    .bubble.orange::after {
        background: radial-gradient(circle at 50% 50%, rgba(255,120,0,0.8) 0%, rgba(40,0,0,0) 70%);
    }

    .bubble.white {
        background: radial-gradient(circle at 30% 30%, rgba(255,255,255,1) 0%, rgba(200,200,255,0.7) 40%, rgba(60,60,120,0.4) 70%, rgba(0,0,0,0.8) 100%);
        box-shadow:
            0 4px 10px rgba(255,255,255,0.5),
            0 0 20px rgba(255,255,255,0.6),
            0 0 40px rgba(255,255,255,0.4);
    }
    .bubble.white::after {
        background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.9) 0%, rgba(60,60,120,0) 70%);
        filter: blur(14px);
    }

    @keyframes floatDrift {
        0%   { transform: translate3d(var(--xOffset,0px),   0px,0) scale(1); }
        50%  { transform: translate3d(calc(var(--xOffset,0px) + var(--sway,10px)), -40px,0) scale(1.03); }
        100% { transform: translate3d(var(--xOffset,0px), -80px,0) scale(1); }
    }

    @keyframes fastRise {
        0%   { transform: translate3d(var(--xOffset,0px), 0px,0) scale(1); opacity:1; }
        70%  { transform: translate3d(calc(var(--xOffset,0px) + var(--sway,6px)), -60px,0) scale(1.05); opacity:1; }
        100% { transform: translate3d(var(--xOffset,0px), -90px,0) scale(0.4); opacity:0; }
    }

    @keyframes popFlash {
        0%   { transform: scale(1); opacity:1; filter: brightness(1); }
        50%  { transform: scale(1.4); opacity:1; filter: brightness(2); }
        100% { transform: scale(0); opacity:0; filter: brightness(3); }
    }

    /* --- NOW PLAYING PANEL --- */
    .nowPlayingWrap {
        position: absolute;
        bottom: 20px;
        left: 20px;
        z-index: 100;
        min-width: 220px;
        max-width: 80vw;
        background: rgba(30,0,40,0.7);
        border: 1px solid rgba(255,0,255,0.8);
        border-radius: 12px;
        padding: 14px 16px 16px;
        box-shadow:
            0 0 12px rgba(255,0,255,0.8),
            0 0 30px rgba(255,0,255,0.4),
            0 0 60px rgba(255,0,255,0.2);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);

        /* IMPORTANT CHANGE:
           we are forcing visible by default now.
           No opacity 0, no transition wait.
        */
        opacity: 1;
        transform: translateY(0) scale(1);
    }

    .nowHead {
        font-size: 12px;
        font-weight: 600;
        color: #ff99ff;
        text-shadow:
            0 0 4px rgba(255,0,255,0.8),
            0 0 12px rgba(255,0,255,0.6),
            0 0 24px rgba(255,0,255,0.4);
        margin-bottom: 8px;
        display: flex;
        flex-direction: column;
        gap: 4px;
    }

    .labelBig {
        font-size: 14px;
        font-weight: 700;
        color: #fff;
        text-shadow:
            0 0 6px rgba(255,255,255,0.8),
            0 0 16px rgba(255,255,255,0.6),
            0 0 32px rgba(255,0,255,0.4),
            0 0 64px rgba(255,0,255,0.2);
        line-height: 1.2;
    }

    .nowTrackName {
        font-size: 13px;
        font-weight: 700;
        color: #fff;
        text-shadow: 0 0 6px rgba(255,255,255,0.6), 0 0 20px rgba(255,255,255,0.4);
        max-width: 90%;
        word-break: break-word;
    }

    .tagRow {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin: 8px 0 10px;
    }

    .vibeTag {
        font-size: 10px;
        line-height: 1.2;
        padding: 4px 6px;
        border-radius: 6px;
        border: 1px solid rgba(255,255,255,0.4);
        background: rgba(0,0,0,0.4);
        text-shadow: 0 0 6px rgba(255,255,255,0.6);
        box-shadow:
            0 0 8px rgba(255,255,255,0.4),
            0 0 20px rgba(255,255,255,0.2);
        font-weight: 600;
        color: #fff;
    }

    .linkRow {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }

    .musicBtn {
        flex-shrink: 0;
        font-size: 11px;
        line-height: 1.2;
        font-weight: 600;
        color: #000;
        background: radial-gradient(circle at 30% 30%, #ffffff 0%, #ffb3ff 40%, #ff00ff 70%, #000 100%);
        border-radius: 20px;
        border: 1px solid rgba(255,255,255,0.6);
        padding: 6px 10px 7px;
        box-shadow:
            0 0 8px rgba(255,0,255,0.8),
            0 0 20px rgba(255,0,255,0.4),
            0 0 40px rgba(255,0,255,0.2);
        text-shadow:
            0 0 4px rgba(0,0,0,0.8),
            0 0 8px rgba(0,0,0,0.8);
        text-decoration: none;
        display: inline-block;
    }

    .musicBtn:active {
        transform: scale(0.96);
        box-shadow:
            0 0 4px rgba(255,255,255,0.8),
            0 0 10px rgba(255,0,255,0.5),
            0 0 20px rgba(255,0,255,0.3);
    }
</style>
</head>
<body>

<div class="titleWrap">TimmyTime&nbsp;Bubbles&nbsp;Rebooted</div>

<div id="bubbleLayer"></div>

<div class="nowPlayingWrap" id="nowWrap">
    <div class="nowHead">
        <div class="labelBig">NOW&nbsp;PLAYING&nbsp;â€¢&nbsp;SUNO</div>
        <div class="nowTrackName" id="trackName">Echo Lowrider // Midnight Southern Soul</div>
    </div>

    <div class="tagRow" id="tagRow">
        <div class="vibeTag">echo</div>
        <div class="vibeTag">lowrider</div>
        <div class="vibeTag">jazz soul</div>
        <div class="vibeTag">southern</div>
    </div>

    <div class="linkRow" id="linkRow">
        <a class="musicBtn" href="#" target="_blank" rel="noopener noreferrer">Suno</a>
        <a class="musicBtn" href="#" target="_blank" rel="noopener noreferrer">Playlist</a>
    </div>
</div>

<div class="edgeFade"></div>

<script>
const layer = document.getElementById('bubbleLayer');
const vw = () => window.innerWidth;
const vh = () => window.innerHeight;

function rand(min, max){
    return min + Math.random()*(max-min);
}

function makeBubble(colorClass, sizePx){
    const b = document.createElement('div');
    b.className = `bubble ${colorClass}`;
    b.style.width = sizePx + 'px';
    b.style.height = sizePx + 'px';
    b.style.left = rand(0, vw()-sizePx) + 'px';
    b.style.top  = rand(0, vh()-sizePx) + 'px';

    b.style.setProperty('--xOffset', rand(-10,10)+'px');
    b.style.setProperty('--sway', rand(-8,12)+'px');

    layer.appendChild(b);
    return b;
}

function setDriftAnim(bubble){
    const dur = rand(5,9);
    const delay = rand(0,4);
    bubble.style.animation = `floatDrift ${dur}s linear ${delay}s infinite`;
}

function setFastRiseAnim(bubble){
    const dur = rand(2,4);
    const delay = rand(0,2);
    bubble.style.animation = `fastRise ${dur}s linear ${delay}s infinite`;
}

function popAndRespawn(bubble){
    bubble.style.animation = 'popFlash 0.4s linear 0s 1 forwards';
    setTimeout(()=>{
        const sizePx = parseFloat(bubble.style.width);
        bubble.style.left = rand(0, vw()-sizePx) + 'px';
        bubble.style.top  = rand(0, vh()-sizePx) + 'px';
        bubble.style.setProperty('--xOffset', rand(-10,10)+'px');
        bubble.style.setProperty('--sway', rand(-8,12)+'px');
        if(bubble.classList.contains('white')){
            setFastRiseAnim(bubble);
        } else {
            setDriftAnim(bubble);
        }
    }, 450);
}

const ORANGE_COUNT = 4;
const BLUE_COUNT   = 6;
const WHITE_COUNT  = 8;

const bubbles = [];

for(let i=0;i<ORANGE_COUNT;i++){
    const size = rand(45,70);
    const b = makeBubble('orange', size);
    setDriftAnim(b);
    bubbles.push(b);
}

for(let i=0;i<BLUE_COUNT;i++){
    const size = rand(30,50);
    const b = makeBubble('blue', size);
    setDriftAnim(b);
    bubbles.push(b);
}

for(let i=0;i<WHITE_COUNT;i++){
    const size = rand(12,20);
    const b = makeBubble('white', size);
    setFastRiseAnim(b);
    bubbles.push(b);
}

bubbles.forEach(b => {
    b.addEventListener('click', ()=>popAndRespawn(b));
    b.addEventListener('touchstart', (e)=>{
        e.preventDefault();
        popAndRespawn(b);
    }, {passive:false});
});

window.addEventListener('resize', ()=>{
    bubbles.forEach(b=>{
        const sizePx = parseFloat(b.style.width);
        let x = parseFloat(b.style.left);
        let y = parseFloat(b.style.top);
        if(x > vw()-sizePx) x = vw()-sizePx;
        if(y > vh()-sizePx) y = vh()-sizePx;
        b.style.left = x + 'px';
        b.style.top  = y + 'px';
    });
});
</script>

</body>
</html>
