<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<title>TimmyTime Bubbles Rebooted</title>
<style>
    * {
        box-sizing: border-box;
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        margin: 0;
        padding: 0;
    }
    html, body {
        width: 100%;
        height: 100%;
        overflow: hidden;
        font-family: "Courier New", monospace;
        background-color: #000;
        color: #fff;
    }

    /* ===== COSMIC BACKDROP =====
       Deep violet / black with subtle banding like your screenshot.
       This is your stage for "echo lowrider jazz soul southern".
    */
    body {
        background:
            radial-gradient(circle at 20% 30%, rgba(80,0,120,0.6) 0%, rgba(0,0,0,0) 70%),
            radial-gradient(circle at 50% 50%, rgba(40,0,60,0.8) 0%, rgba(0,0,0,0.2) 60%),
            linear-gradient(to bottom,
                rgba(10,0,20,0.7) 0%,
                rgba(10,0,20,0.5) 20%,
                rgba(0,0,0,0.8) 40%,
                rgba(10,0,20,0.6) 60%,
                rgba(0,0,0,0.9) 80%,
                #000 100%),
            radial-gradient(circle at 80% 40%, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 60%);
        background-color: #000;
        background-blend-mode: screen, screen, normal, normal;
        position: relative;
    }

    /* right side falloff to deeper black */
    .edgeFade {
        position: absolute;
        right: 0;
        top: 0;
        width: 40%;
        height: 100%;
        background: radial-gradient(circle at 100% 50%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.6) 40%, rgba(0,0,0,1) 70%);
        pointer-events: none;
        mix-blend-mode: normal;
        z-index: 3;
    }

    /* ===== TITLE =====
       Breathing like a lowrider bassline (~90bpm).
       This animation rate is part of your "married to Suno" sync.
    */
    .titleWrap {
        position: absolute;
        top: 60px;
        left: 20px;
        z-index: 50;
        font-size: clamp(20px, 4vw, 32px);
        font-weight: 700;
        line-height: 1.3;
        color: #ff00ff;
        white-space: nowrap;
        text-shadow:
            0 0 6px rgba(255,0,255,0.7),
            0 0 14px rgba(255,0,255,0.5),
            0 0 30px rgba(255,0,255,0.3),
            0 0 60px rgba(255,0,255,0.15);
        animation: titlePulse 4s infinite;
    }

    @keyframes titlePulse {
        0%,100% {
            text-shadow:
                0 0 4px rgba(255,0,255,0.8),
                0 0 12px rgba(255,0,255,0.6),
                0 0 28px rgba(255,0,255,0.4),
                0 0 60px rgba(255,0,255,0.2);
            filter: brightness(1);
        }
        50% {
            text-shadow:
                0 0 6px rgba(255,0,255,1),
                0 0 16px rgba(255,0,255,0.9),
                0 0 36px rgba(255,0,255,0.6),
                0 0 80px rgba(255,0,255,0.4);
            filter: brightness(1.3);
        }
    }

    /* ===== BUBBLE LAYER ===== */
    #bubbleLayer {
        position: absolute;
        inset: 0;
        overflow: hidden;
        z-index: 1;
    }

    /* ===== BUBBLES (3 families) ===== */
    .bubble {
        position: absolute;
        border-radius: 50%;
        pointer-events: auto;
        transform-origin: center;
    }

    .bubble::after {
        content: "";
        position: absolute;
        left: 0; top: 0;
        width: 100%; height: 100%;
        border-radius: 50%;
        filter: blur(18px);
        opacity: 0.55;
        z-index: -1;
    }

    /* BLUE FLOATERS: cool / spacey / cruising, like highway at 2am */
    .bubble.blue {
        background: radial-gradient(circle at 30% 30%, rgba(160,200,255,0.9) 0%, rgba(0,60,255,0.5) 40%, rgba(0,0,60,0.8) 70%, rgba(0,0,0,0.9) 100%);
        box-shadow:
            0 4px 10px rgba(0,140,255,0.4),
            0 0 30px rgba(0,120,255,0.4),
            0 0 60px rgba(0,120,255,0.2);
    }
    .bubble.blue::after {
        background: radial-gradient(circle at 50% 50%, rgba(0,140,255,0.8) 0%, rgba(0,0,40,0) 70%);
    }

    /* ORANGE ANCHORS: warm / soulful / southern brass color */
    .bubble.orange {
        background: radial-gradient(circle at 30% 30%, rgba(255,230,150,0.9) 0%, rgba(255,140,0,0.7) 40%, rgba(80,20,0,0.8) 70%, rgba(0,0,0,0.9) 100%);
        box-shadow:
            0 4px 10px rgba(255,120,0,0.4),
            0 0 30px rgba(255,80,0,0.35),
            0 0 60px rgba(255,60,0,0.25);
    }
    .bubble.orange::after {
        background: radial-gradient(circle at 50% 50%, rgba(255,120,0,0.8) 0%, rgba(40,0,0,0) 70%);
    }

    /* WHITE SPARKS: bright pop, like hi-hats / snaps */
    .bubble.white {
        background: radial-gradient(circle at 30% 30%, rgba(255,255,255,1) 0%, rgba(200,200,255,0.7) 40%, rgba(60,60,120,0.4) 70%, rgba(0,0,0,0.8) 100%);
        box-shadow:
            0 4px 10px rgba(255,255,255,0.5),
            0 0 20px rgba(255,255,255,0.6),
            0 0 40px rgba(255,255,255,0.4);
    }
    .bubble.white::after {
        background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.9) 0%, rgba(60,60,120,0) 70%);
        filter: blur(14px);
    }

    /* ===== MOTION ===== */

    /* slow float (blue/orange): like car suspension rocking, lowrider cruise */
    @keyframes floatDrift {
        0%   { transform: translate3d(var(--xOffset,0px),   0px,0) scale(1); }
        50%  { transform: translate3d(calc(var(--xOffset,0px) + var(--sway,10px)), -40px,0) scale(1.03); }
        100% { transform: translate3d(var(--xOffset,0px), -80px,0) scale(1); }
    }

    /* fastRise (white sparks): little hi-hat pops, then fade */
    @keyframes fastRise {
        0%   { transform: translate3d(var(--xOffset,0px), 0px,0) scale(1); opacity:1; }
        70%  { transform: translate3d(calc(var(--xOffset,0px) + var(--sway,6px)), -60px,0) scale(1.05); opacity:1; }
        100% { transform: translate3d(var(--xOffset,0px), -90px,0) scale(0.4); opacity:0; }
    }

    /* tap pop flash animation; we reuse this on touch/click */
    @keyframes popFlash {
        0%   { transform: scale(1); opacity:1; filter: brightness(1); }
        50%  { transform: scale(1.4); opacity:1; filter: brightness(2); }
        100% { transform: scale(0); opacity:0; filter: brightness(3); }
    }

    /* ===== NOW PLAYING PANEL =====
       This is your Suno hook.
       It fades in AFTER the page stabilizes so we don't mess timing.
       No autoplay. No audio element. Just links.
    */
    .nowPlayingWrap {
        position: absolute;
        bottom: 20px;
        left: 20px;
        z-index: 100;
        min-width: 200px;
        max-width: 80vw;
        background: rgba(10,0,20,0.4);
        border: 1px solid rgba(255,0,255,0.4);
        border-radius: 12px;
        padding: 12px 14px 14px;
        box-shadow:
            0 0 10px rgba(255,0,255,0.4),
            0 0 30px rgba(255,0,255,0.2),
            0 0 60px rgba(255,0,255,0.1);
        backdrop-filter: blur(6px);
        -webkit-backdrop-filter: blur(6px);
        color: #fff;
        font-size: 12px;
        line-height: 1.4;
        opacity: 0;
        transform: translateY(20px) scale(0.97);
        transition: opacity .6s ease, transform .6s ease;
    }

    .nowPlayingWrap.show {
        opacity: 1;
        transform: translateY(0) scale(1);
    }

    .nowHead {
        font-size: 11px;
        font-weight: 600;
        color: #ff99ff;
        text-shadow:
            0 0 4px rgba(255,0,255,0.8),
            0 0 12px rgba(255,0,255,0.6),
            0 0 24px rgba(255,0,255,0.4);
        margin-bottom: 6px;
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        flex-wrap: wrap;
        row-gap: 4px;
    }

    .nowHead span.label {
        letter-spacing: .05em;
    }

    .nowTrackName {
        font-size: 13px;
        font-weight: 700;
        color: #fff;
        text-shadow: 0 0 6px rgba(255,255,255,0.6), 0 0 20px rgba(255,255,255,0.4);
        max-width: 90%;
        word-break: break-word;
    }

    /* little neon tags that match your language:
       echo / lowrider / jazz soul / southern
    */
    .tagRow {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin: 8px 0 10px;
    }

    .vibeTag {
        font-size: 10px;
        line-height: 1.2;
        padding: 4px 6px;
        border-radius: 6px;
        border: 1px solid rgba(255,255,255,0.4);
        background: rgba(0,0,0,0.4);
        text-shadow: 0 0 6px rgba(255,255,255,0.6);
        box-shadow:
            0 0 8px rgba(255,255,255,0.4),
            0 0 20px rgba(255,255,255,0.2);
        font-weight: 600;
        color: #fff;
    }

    /* clickable Suno / playlist links */
    .linkRow {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }

    .musicBtn {
        flex-shrink: 0;
        font-size: 11px;
        line-height: 1.2;
        font-weight: 600;
        color: #000;
        background: radial-gradient(circle at 30% 30%, #ffffff 0%, #ffb3ff 40%, #ff00ff 70%, #000 100%);
        border-radius: 20px;
        border: 1px solid rgba(255,255,255,0.6);
        padding: 6px 10px 7px;
        box-shadow:
            0 0 8px rgba(255,0,255,0.8),
            0 0 20px rgba(255,0,255,0.4),
            0 0 40px rgba(255,0,255,0.2);
        text-shadow:
            0 0 4px rgba(0,0,0,0.8),
            0 0 8px rgba(0,0,0,0.8);
        text-decoration: none;
        display: inline-block;
    }

    .musicBtn:active {
        transform: scale(0.96);
        box-shadow:
            0 0 4px rgba(255,255,255,0.8),
            0 0 10px rgba(255,0,255,0.5),
            0 0 20px rgba(255,0,255,0.3);
    }
</style>
</head>
<body>

<!-- TITLE -->
<div class="titleWrap">TimmyTime&nbsp;Bubbles&nbsp;Rebooted</div>

<!-- BUBBLES -->
<div id="bubbleLayer"></div>

<!-- SUNO / NOW PLAYING PANEL -->
<div class="nowPlayingWrap" id="nowWrap">
    <div class="nowHead">
        <span class="label">Now&nbsp;Playing</span>
        <span class="nowTrackName" id="trackName">Loading grooveâ€¦</span>
    </div>

    <div class="tagRow" id="tagRow">
        <!-- tags inserted by JS -->
    </div>

    <div class="linkRow" id="linkRow">
        <!-- links inserted by JS -->
    </div>
</div>

<!-- RIGHT EDGE FADE -->
<div class="edgeFade"></div>

<script>
/*
   TIMMYTIME BUBBLE ENGINE x SUNO PANEL
   ------------------------------------
   - Bubbles keep same motion rules as before.
   - We add a "now playing" panel that appears after ~800ms.
   - You can update the "tracks" array below with your mastered Suno songs.

   IMPORTANT:
   - No audio elements here. We're not playing sound, just advertising vibe.
   - No counters. No timers racing.
*/

const layer = document.getElementById('bubbleLayer');
const vw = () => window.innerWidth;
const vh = () => window.innerHeight;

/* random helper */
function rand(min, max){
    return min + Math.random()*(max-min);
}

/* create bubble DOM node */
function makeBubble(colorClass, sizePx){
    const b = document.createElement('div');
    b.className = `bubble ${colorClass}`;
    b.style.width = sizePx + 'px';
    b.style.height = sizePx + 'px';
    b.style.left = rand(0, vw()-sizePx) + 'px';
    b.style.top  = rand(0, vh()-sizePx) + 'px';

    // per-bubble sway & offset
    b.style.setProperty('--xOffset', rand(-10,10)+'px');
    b.style.setProperty('--sway', rand(-8,12)+'px');

    layer.appendChild(b);
    return b;
}

/* animations */
function setDriftAnim(bubble){
    // lowrider cruise: slower, swaying
    const dur = rand(5,9); // seconds
    const delay = rand(0,4);
    bubble.style.animation = `floatDrift ${dur}s linear ${delay}s infinite`;
}

function setFastRiseAnim(bubble){
    // hi-hat sparks: quick pop up and fade
    const dur = rand(2,4);
    const delay = rand(0,2);
    bubble.style.animation = `fastRise ${dur}s linear ${delay}s infinite`;
}

/* tap to popFlash, then respawn */
function popAndRespawn(bubble){
    bubble.style.animation = 'popFlash 0.4s linear 0s 1 forwards';

    setTimeout(()=>{
        const sizePx = parseFloat(bubble.style.width);

        // reposition
        bubble.style.left = rand(0, vw()-sizePx) + 'px';
        bubble.style.top  = rand(0, vh()-sizePx) + 'px';

        // new sway
        bubble.style.setProperty('--xOffset', rand(-10,10)+'px');
        bubble.style.setProperty('--sway', rand(-8,12)+'px');

        // restart anim based on color
        if(bubble.classList.contains('white')){
            setFastRiseAnim(bubble);
        } else {
            setDriftAnim(bubble);
        }
    }, 450);
}

/* build bubble populations */
const ORANGE_COUNT = 4; // warm / soul / brass
const BLUE_COUNT   = 6; // cool / cruise / highway
const WHITE_COUNT  = 8; // little sparkle hits

const bubbles = [];

// oranges: slow anchors
for(let i=0;i<ORANGE_COUNT;i++){
    const size = rand(45,70);
    const b = makeBubble('orange', size);
    setDriftAnim(b);
    bubbles.push(b);
}

// blues: medium drift
for(let i=0;i<BLUE_COUNT;i++){
    const size = rand(30,50);
    const b = makeBubble('blue', size);
    setDriftAnim(b);
    bubbles.push(b);
}

// whites: fast pop + respawn
for(let i=0;i<WHITE_COUNT;i++){
    const size = rand(12,20);
    const b = makeBubble('white', size);
    setFastRiseAnim(b);
    bubbles.push(b);
}

// touch / click support for pop
bubbles.forEach(b => {
    b.addEventListener('click', ()=>popAndRespawn(b));
    b.addEventListener('touchstart', (e)=>{
        e.preventDefault();
        popAndRespawn(b);
    }, {passive:false});
});

/* keep bubbles on screen after resize / rotate */
window.addEventListener('resize', ()=>{
    bubbles.forEach(b=>{
        const sizePx = parseFloat(b.style.width);
        let x = parseFloat(b.style.left);
        let y = parseFloat(b.style.top);
        if(x > vw()-sizePx) x = vw()-sizePx;
        if(y > vh()-sizePx) y = vh()-sizePx;
        b.style.left = x + 'px';
        b.style.top  = y + 'px';
    });
});

/* ========== SUNO PANEL ==========
   You plug your mastered tracks here.
   Each entry:
   {
     title: "string shown to user",
     tags: ["echo","lowrider","jazz soul","southern"],
     links: [
        {label:"Suno", url:"https://example.com"},
        {label:"Playlist", url:"https://example.com"}
     ]
   }

   We'll just show the FIRST one for now.
   You can add more later (future: next/prev buttons).
*/
const tracks = [
    {
        title: "Echo Lowrider // Midnight Southern Soul",
        tags: ["echo", "lowrider", "jazz soul", "southern"],
        links: [
            { label: "Suno", url: "#" },
            { label: "Full Playlist", url: "#" }
        ]
    }
    // you can add more objects here later
];

function initNowPlaying(){
    const wrap = document.getElementById('nowWrap');
    const trackNameEl = document.getElementById('trackName');
    const tagRowEl = document.getElementById('tagRow');
    const linkRowEl = document.getElementById('linkRow');

    if(!tracks.length){
        trackNameEl.textContent = "No track selected";
        return;
    }

    const t = tracks[0];

    // title
    trackNameEl.textContent = t.title || "Untitled";

    // tags
    tagRowEl.innerHTML = "";
    if (t.tags && t.tags.length){
        t.tags.forEach(tagText=>{
            const div = document.createElement('div');
            div.className = "vibeTag";
            div.textContent = tagText;
            tagRowEl.appendChild(div);
        });
    }

    // links
    linkRowEl.innerHTML = "";
    if (t.links && t.links.length){
        t.links.forEach(link=>{
            const a = document.createElement('a');
            a.className = "musicBtn";
            a.textContent = link.label;
            a.href = link.url;
            a.target = "_blank";
            a.rel = "noopener noreferrer";
            linkRowEl.appendChild(a);
        });
    }

    // gentle delayed reveal so it doesn't fight first paint
    setTimeout(()=>{
        wrap.classList.add('show');
    }, 800);
}

// run after DOM + bubbles exist
initNowPlaying();
</script>

</body>
</html>
